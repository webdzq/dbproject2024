import{d as e,u as l,q as a,r as d,z as o,A as t,o as s,i as u,w as p,e as r,a as i,s as _,B as n,c as m,F as c,C as f,x as b,v as g,_ as h}from"./index-5daae5c6.js";import{C as V}from"./ContentDetailWrap-75ea7bde.js";import{u as w}from"./useEmitt-7829992f.js";import{b as v,c as y,e as U,f as j}from"./index-80679fe0.js";import{g as k}from"./index-33a79b05.js";import{g as q}from"./index-a6d3710f.js";import{E as x,a as C}from"./el-form-item-ada12a4e.js";import{E as F}from"./el-button-4a7b0ca2.js";import{E}from"./el-input-d215ca9f.js";import{E as z,a as B}from"./el-select-03ddc29b.js";import"./el-popper-8a023621.js";import"./index-5f2b1643.js";const G=h(e({__name:"edit",setup(e){const{push:h,go:G}=l();w();const O=a({game_id:[{required:!0,message:"player name is required",trigger:"blur"}],team_id:[{required:!0,message:"team name is required",trigger:"blur"}],points:[{required:!0,message:"country are required",trigger:"blur"}],game_played_count:[{required:!0,message:"age are required",trigger:"blur"}],field_goals_made:[{required:!0,message:"age are required",trigger:"blur"}]}),R=d(),A=d([]),D=d([]),H=d([]),{query:I}=o(),J=d(!1),K=d(!1),S=a({game_id:"",team_id:"",game_played_count:"",min_played:"",points:"",field_goals_made:"",field_goals_attempted:"",field_goals_percentage:"",number_3_points_goal_made:"",number_3_points_goal_attempted:"",number_3_points_goal_percentage:"",free_throws_made:"",free_throws_attempted:"",free_throw_percentage:"",offensive_rebounds:"",defensive_rebounds:"",assists:"",turnovers:"",steels:"",blocks:"",personal_fouls:"",fantacy_points:"",doubles_doubles:"",triple_doubles:""});I.id&&(async()=>{K.value=!0;const e=await v({player_id:I.id});if(console.log("res_data",e),e){let l=null==e?void 0:e.items[0];Object.assign(S,l),K.value=!1}})();(async()=>{const e=await k();A.value=null==e?void 0:e.items.map((e=>({id:e.team_id,name:e.team_name})))})();(async()=>{const e=await y();H.value=null==e?void 0:e.items.map((e=>({id:e.player_id,name:e.name})))})();(async()=>{const e=await q();D.value=null==e?void 0:e.items.map((e=>({id:e.game_id,name:e.game_date})))})();return(e,l)=>{const a=t("loading");return s(),u(i(V),{title:i(I).id?"edit":"add",onBack:l[28]||(l[28]=e=>i(h)("/player/detail"))},{header:p((()=>[r(i(F),{onClick:l[0]||(l[0]=e=>i(G)(-1))},{default:p((()=>[_("Go")])),_:1})])),default:p((()=>[n((s(),u(i(x),{ref_key:"ruleFormRef",ref:R,model:S,rules:O,"label-width":"120px",class:"demo-ruleForm",size:"default","status-icon":""},{default:p((()=>[r(i(C),{label:"player name"},{default:p((()=>[r(i(z),{modelValue:S.player_id,"onUpdate:modelValue":l[1]||(l[1]=e=>S.player_id=e),class:"width-190",placeholder:"select team name"},{default:p((()=>[(s(!0),m(c,null,f(H.value,(e=>(s(),u(i(B),{key:e.id,label:e.name,value:e.id,disabled:!!i(I).id},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(i(C),{label:"team name"},{default:p((()=>[r(i(z),{modelValue:S.team_id,"onUpdate:modelValue":l[2]||(l[2]=e=>S.team_id=e),class:"width-190",placeholder:"select team name"},{default:p((()=>[(s(!0),m(c,null,f(A.value,(e=>(s(),u(i(B),{key:e.id,label:e.name,value:e.id,disabled:!!i(I).id},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(i(C),{label:"game season"},{default:p((()=>[r(i(z),{modelValue:S.game_id,"onUpdate:modelValue":l[3]||(l[3]=e=>S.game_id=e),class:"width-190",placeholder:"select team name"},{default:p((()=>[(s(!0),m(c,null,f(D.value,(e=>(s(),u(i(B),{key:e.id,label:e.name,value:e.id,disabled:!!i(I).id},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),r(i(C),{label:"game_played_count",prop:"game_played_count"},{default:p((()=>[r(i(E),{modelValue:S.game_played_count,"onUpdate:modelValue":l[4]||(l[4]=e=>S.game_played_count=e),class:"width-190",placeholder:"place input"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"min_played",prop:"min_played"},{default:p((()=>[r(i(E),{modelValue:S.min_played,"onUpdate:modelValue":l[5]||(l[5]=e=>S.min_played=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"points ",prop:"points"},{default:p((()=>[r(i(E),{modelValue:S.points,"onUpdate:modelValue":l[6]||(l[6]=e=>S.points=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"field_goals_made",prop:"field_goals_made"},{default:p((()=>[r(i(E),{modelValue:S.field_goals_made,"onUpdate:modelValue":l[7]||(l[7]=e=>S.field_goals_made=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"field_goals_attempted",prop:"field_goals_attempted"},{default:p((()=>[r(i(E),{modelValue:S.field_goals_attempted,"onUpdate:modelValue":l[8]||(l[8]=e=>S.field_goals_attempted=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"field_goals_percentage",prop:"field_goals_percentage"},{default:p((()=>[r(i(E),{modelValue:S.field_goals_percentage,"onUpdate:modelValue":l[9]||(l[9]=e=>S.field_goals_percentage=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"number_3_points_goal_made",prop:"number_3_points_goal_made"},{default:p((()=>[r(i(E),{modelValue:S.number_3_points_goal_made,"onUpdate:modelValue":l[10]||(l[10]=e=>S.number_3_points_goal_made=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"number_3_points_goal_attempted",prop:"number_3_points_goal_attempted"},{default:p((()=>[r(i(E),{modelValue:S.number_3_points_goal_attempted,"onUpdate:modelValue":l[11]||(l[11]=e=>S.number_3_points_goal_attempted=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"number_3_points_goal_percentage",prop:"number_3_points_goal_percentage"},{default:p((()=>[r(i(E),{modelValue:S.number_3_points_goal_percentage,"onUpdate:modelValue":l[12]||(l[12]=e=>S.number_3_points_goal_percentage=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"free_throws_made",prop:"free_throws_made"},{default:p((()=>[r(i(E),{modelValue:S.free_throws_made,"onUpdate:modelValue":l[13]||(l[13]=e=>S.free_throws_made=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"free_throws_attempted",prop:"free_throws_attempted"},{default:p((()=>[r(i(E),{modelValue:S.free_throws_attempted,"onUpdate:modelValue":l[14]||(l[14]=e=>S.free_throws_attempted=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"free_throw_percentage",prop:"free_throw_percentage"},{default:p((()=>[r(i(E),{modelValue:S.free_throw_percentage,"onUpdate:modelValue":l[15]||(l[15]=e=>S.free_throw_percentage=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"offensive_rebounds",prop:"offensive_rebounds"},{default:p((()=>[r(i(E),{modelValue:S.offensive_rebounds,"onUpdate:modelValue":l[16]||(l[16]=e=>S.offensive_rebounds=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"defensive_rebounds",prop:"defensive_rebounds"},{default:p((()=>[r(i(E),{modelValue:S.defensive_rebounds,"onUpdate:modelValue":l[17]||(l[17]=e=>S.defensive_rebounds=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"assists",prop:"assists"},{default:p((()=>[r(i(E),{modelValue:S.assists,"onUpdate:modelValue":l[18]||(l[18]=e=>S.assists=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"turnovers",prop:"turnovers"},{default:p((()=>[r(i(E),{modelValue:S.turnovers,"onUpdate:modelValue":l[19]||(l[19]=e=>S.turnovers=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"steels",prop:"steels"},{default:p((()=>[r(i(E),{modelValue:S.steels,"onUpdate:modelValue":l[20]||(l[20]=e=>S.steels=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"blocks",prop:"blocks"},{default:p((()=>[r(i(E),{modelValue:S.blocks,"onUpdate:modelValue":l[21]||(l[21]=e=>S.blocks=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"personal_fouls",prop:"personal_fouls"},{default:p((()=>[r(i(E),{modelValue:S.personal_fouls,"onUpdate:modelValue":l[22]||(l[22]=e=>S.personal_fouls=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"fantacy_points",prop:"fantacy_points"},{default:p((()=>[r(i(E),{modelValue:S.fantacy_points,"onUpdate:modelValue":l[23]||(l[23]=e=>S.fantacy_points=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"doubles_doubles",prop:"doubles_doubles"},{default:p((()=>[r(i(E),{modelValue:S.doubles_doubles,"onUpdate:modelValue":l[24]||(l[24]=e=>S.doubles_doubles=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),r(i(C),{label:"triple_doubles",prop:"triple_doubles"},{default:p((()=>[r(i(E),{modelValue:S.triple_doubles,"onUpdate:modelValue":l[25]||(l[25]=e=>S.triple_doubles=e),class:"width-190",placeholder:"place iput"},null,8,["modelValue"])])),_:1}),b(' <el-form-item label="free_throws_made" prop="free_throws_made">\n        <el-input\n          v-model="ruleForm.free_throws_made"\n          class="width-190"\n          placeholder="place iput"\n          type="textarea"\n          autosize\n        />\n      </el-form-item> '),r(i(C),null,{default:p((()=>[r(i(F),{type:"primary",onClick:l[26]||(l[26]=e=>(async e=>{e&&await e.validate((async(e,l)=>{if(e){console.log("ruleForm=",S),J.value=!0;const e=S;let l;if(delete e.name,delete e.game_season,delete e.team_name,I.id){const a=Object.assign({player_id:S.player_id,update:"edit"},e);l=await U(a).catch((()=>{})).finally((()=>{J.value=!1}))}else l=await j(e).catch((()=>{})).finally((()=>{J.value=!1}));l&&(g.success(I.id?"update success":"save success"),h("/player/detail"))}else console.log("error submit!",l)}))})(R.value))},{default:p((()=>[_("Save")])),_:1}),i(I).id?b("v-if",!0):(s(),u(i(F),{key:0,onClick:l[27]||(l[27]=e=>{var l;(l=R.value)&&l.resetFields()})},{default:p((()=>[_("Reset")])),_:1}))])),_:1})])),_:1},8,["model","rules"])),[[a,K.value]])])),_:1},8,["title"])}}}),[["__file","/Users/zyb-dong/iit/cs425/dbproject/frontend/src/views/player/edit.vue"]]);export{G as default};
