import{u as e,F as o}from"./useForm-aca3a07d.js";import{d as s,s as l,e as r,F as a,r as t,o as n,i,a as d,ax as p,k as c}from"./index-d5304777.js";import{E as m}from"./el-button-7384c59f.js";import{E as u}from"./el-input-18a8a90e.js";import{u as f}from"./useValidator-abf1376c.js";function g(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!p(e)}const h=s({__name:"RegisterForm",emits:["to-login"],setup(s,{emit:p}){const{formRegister:h,formMethods:w}=e(),{getElFormExpose:P}=w,{t:b}=c(),{required:v}=f(),k=l([{field:"title",colProps:{span:24},formItemProps:{slots:{default:()=>r("h2",{class:"text-2xl font-bold text-center w-[100%]"},[b("login.register")])}}},{field:"username",label:b("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:b("login.usernamePlaceholder")}},{field:"password",label:b("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:b("login.passwordPlaceholder")}},{field:"check_password",label:b("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:b("login.passwordPlaceholder")}},{field:"code",label:b("login.code"),colProps:{span:24},formItemProps:{slots:{default:e=>r("div",{class:"w-[100%] flex"},[r(u,{modelValue:e.code,"onUpdate:modelValue":o=>e.code=o,placeholder:b("login.codePlaceholder")},null)])}}},{field:"register",colProps:{span:24},formItemProps:{slots:{default:()=>{let e,o;return r(a,null,[r("div",{class:"w-[100%]"},[r(m,{type:"primary",class:"w-[100%]",loading:j.value,onClick:I},g(e=b("login.register"))?e:{default:()=>[e]})]),r("div",{class:"w-[100%] mt-15px"},[r(m,{class:"w-[100%]",onClick:x},g(o=b("login.hasUser"))?o:{default:()=>[o]})])])}}}}]),y={username:[v()],password:[v()],check_password:[v()],code:[v()]},x=()=>{p("to-login")},j=t(!1),I=async()=>{const e=await P();null==e||e.validate((async e=>{if(e)try{j.value=!0,x()}finally{j.value=!1}}))};return(e,s)=>(n(),i(d(o),{schema:k,rules:y,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:d(h)},null,8,["schema","onRegister"]))}});export{h as _};
