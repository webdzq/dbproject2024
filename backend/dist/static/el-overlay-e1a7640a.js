import{z as e,aT as o,H as t,cY as s,ak as n,be as a,V as u,b1 as d,bx as l,cZ as c,bw as r,aO as i,A as m,Y as p,d as y,e as v,O as b,v as f}from"./index-14c99acf.js";import{a as x}from"./scroll-48d2443d.js";import{P as k}from"./vnode-8e602242.js";const M=(i,m={})=>{e(i)||o("[useLockscreen]","You need to pass a ref param to this function");const p=m.ns||t("popup"),y=s((()=>p.bm("parent","hidden")));if(!n||a(document.body,y.value))return;let v=0,b=!1,f="0";const k=()=>{setTimeout((()=>{r(null==document?void 0:document.body,y.value),b&&document&&(document.body.style.width=f)}),200)};u(i,(e=>{if(!e)return void k();b=!a(document.body,y.value),b&&(f=document.body.style.width),v=x(p.namespace.value);const o=document.documentElement.clientHeight<document.body.scrollHeight,t=d(document.body,"overflowY");v>0&&(o||"scroll"===t)&&b&&(document.body.style.width=`calc(100% - ${v}px)`),l(document.body,y.value)})),c((()=>k()))},w=e=>{if(!e)return{onClick:i,onMousedown:i,onMouseup:i};let o=!1,t=!1;return{onClick:s=>{o&&t&&e(s),o=t=!1},onMousedown:e=>{o=e.target===e.currentTarget},onMouseup:e=>{t=e.target===e.currentTarget}}},C=m({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:p([String,Array,Object])},zIndex:{type:p([String,Number])}});const g=y({name:"ElOverlay",props:C,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:o,emit:s}){const n=t("overlay"),{onClick:a,onMousedown:u,onMouseup:d}=w(e.customMaskEvent?void 0:e=>{s("click",e)});return()=>e.mask?v("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:u,onMouseup:d},[b(o,"default")],k.STYLE|k.CLASS|k.PROPS,["onClick","onMouseup","onMousedown"]):f("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(o,"default")])}});export{g as E,M as a,w as u};
