import{aA as e,N as a,ac as t,aN as n,aP as l,cQ as o,r as s,ab as i,ad as r,av as u,bG as d,a3 as p,a0 as c,aD as f,b7 as v,a1 as m,aF as y,a2 as x,d as g,az as h,bK as b,a8 as w,c3 as S,cX as k,cY as z,bT as I,b6 as C,ae as F,af as E,bV as B,o as $,c as P,x as N,F as V,n as A,a as M,as as R,f as _,i as j,w as T,ao as H,ai as O,aB as K,e as W,bD as D,ah as L,bx as X,t as Y,ag as G,au as Q,aX as U,ay as Z}from"./index-5daae5c6.js";import{c as q,d as J,u as ee,a as ae}from"./el-button-4a7b0ca2.js";const te=()=>e&&/firefox/i.test(window.navigator.userAgent);function ne(){if(!arguments.length)return[];var e=arguments[0];return a(e)?e:[e]}const le="update:modelValue",oe="change",se="input",ie=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),re=["class","style"],ue=/^on[A-Z]/,de=(e={})=>{const{excludeListeners:a=!1,excludeKeys:s}=e,i=t((()=>((null==s?void 0:s.value)||[]).concat(re))),r=n();return r?t((()=>{var e;return o(Object.entries(null==(e=r.proxy)?void 0:e.$attrs).filter((([e])=>!(i.value.includes(e)||a&&ue.test(e)))))})):(l("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),t((()=>({}))))};function pe(e,{afterFocus:a,beforeBlur:t,afterBlur:l}={}){const o=n(),{emit:p}=o,c=i(),f=s(!1);return r(c,(e=>{e&&e.setAttribute("tabindex","-1")})),u(c,"click",(()=>{var a;null==(a=e.value)||a.focus()})),{wrapperRef:c,isFocused:f,handleFocus:e=>{f.value||(f.value=!0,p("focus",e),null==a||a())},handleBlur:e=>{var a;!!d(t)&&t(e)||e.relatedTarget&&(null==(a=c.value)?void 0:a.contains(e.relatedTarget))||(f.value=!1,p("blur",e),null==l||l())}}}let ce;const fe=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${te()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,ve=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function me(e,a=1,t){var n;ce||(ce=document.createElement("textarea"),document.body.appendChild(ce));const{paddingSize:l,borderSize:o,boxSizing:s,contextStyle:i}=function(e){const a=window.getComputedStyle(e),t=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),l=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:ve.map((e=>`${e}:${a.getPropertyValue(e)}`)).join(";"),paddingSize:n,borderSize:l,boxSizing:t}}(e);ce.setAttribute("style",`${i};${fe}`),ce.value=e.value||e.placeholder||"";let r=ce.scrollHeight;const u={};"border-box"===s?r+=o:"content-box"===s&&(r-=l),ce.value="";const d=ce.scrollHeight-l;if(p(a)){let e=d*a;"border-box"===s&&(e=e+l+o),r=Math.max(e,r),u.minHeight=`${e}px`}if(p(t)){let e=d*t;"border-box"===s&&(e=e+l+o),r=Math.min(e,r)}return u.height=`${r}px`,null==(n=ce.parentNode)||n.removeChild(ce),ce=void 0,u}const ye=c({id:{type:String,default:void 0},size:v,disabled:Boolean,modelValue:{type:m([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:m([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:y},prefixIcon:{type:y},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:m([Object,Array,String]),default:()=>x({})},autofocus:{type:Boolean,default:!1}}),xe={[le]:e=>f(e),input:e=>f(e),change:e=>f(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},ge=["role"],he=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],be=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],we=g({name:"ElInput",inheritAttrs:!1});const Se=Z(Q(g({...we,props:ye,emits:xe,setup(a,{expose:n,emit:o}){const u=a,d=h(),p=b(),c=t((()=>{const e={};return"combobox"===u.containerRole&&(e["aria-haspopup"]=d["aria-haspopup"],e["aria-owns"]=d["aria-owns"],e["aria-expanded"]=d["aria-expanded"]),e})),f=t((()=>["textarea"===u.type?ne.b():te.b(),te.m(Q.value),te.is("disabled",Z.value),te.is("exceed",Me.value),{[te.b("group")]:p.prepend||p.append,[te.bm("group","append")]:p.append,[te.bm("group","prepend")]:p.prepend,[te.m("prefix")]:p.prefix||u.prefixIcon,[te.m("suffix")]:p.suffix||u.suffixIcon||u.clearable||u.showPassword,[te.bm("suffix","password-clear")]:Pe.value&&Ne.value,[te.b("hidden")]:"hidden"===u.type},d.class])),v=t((()=>[te.e("wrapper"),te.is("focus",we.value)])),m=de({excludeKeys:t((()=>Object.keys(c.value)))}),{form:y,formItem:x}=q(),{inputId:g}=J(u,{formItemContext:x}),Q=ee(),Z=ae(),te=w("input"),ne=w("textarea"),oe=i(),se=i(),re=s(!1),ue=s(!1),ce=s(!1),fe=s(),ve=i(u.inputStyle),ye=t((()=>oe.value||se.value)),{wrapperRef:xe,isFocused:we,handleFocus:Se,handleBlur:ke}=pe(ye,{afterBlur(){var e;u.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"blur").catch((e=>l(e))))}}),ze=t((()=>{var e;return null!=(e=null==y?void 0:y.statusIcon)&&e})),Ie=t((()=>(null==x?void 0:x.validateState)||"")),Ce=t((()=>Ie.value&&S[Ie.value])),Fe=t((()=>ce.value?k:z)),Ee=t((()=>[d.style])),Be=t((()=>[u.inputStyle,ve.value,{resize:u.resize}])),$e=t((()=>I(u.modelValue)?"":String(u.modelValue))),Pe=t((()=>u.clearable&&!Z.value&&!u.readonly&&!!$e.value&&(we.value||re.value))),Ne=t((()=>u.showPassword&&!Z.value&&!u.readonly&&!!$e.value&&(!!$e.value||we.value))),Ve=t((()=>u.showWordLimit&&!!u.maxlength&&("text"===u.type||"textarea"===u.type)&&!Z.value&&!u.readonly&&!u.showPassword)),Ae=t((()=>$e.value.length)),Me=t((()=>!!Ve.value&&Ae.value>Number(u.maxlength))),Re=t((()=>!!p.suffix||!!u.suffixIcon||Pe.value||u.showPassword||Ve.value||!!Ie.value&&ze.value)),[_e,je]=function(e){const a=s();return[function(){if(null==e.value)return;const{selectionStart:t,selectionEnd:n,value:l}=e.value;if(null==t||null==n)return;const o=l.slice(0,Math.max(0,t)),s=l.slice(Math.max(0,n));a.value={selectionStart:t,selectionEnd:n,value:l,beforeTxt:o,afterTxt:s}},function(){if(null==e.value||null==a.value)return;const{value:t}=e.value,{beforeTxt:n,afterTxt:l,selectionStart:o}=a.value;if(null==n||null==l||null==o)return;let s=t.length;if(t.endsWith(l))s=t.length-l.length;else if(t.startsWith(n))s=n.length;else{const e=n[o-1],a=t.indexOf(e,o-1);-1!==a&&(s=a+1)}e.value.setSelectionRange(s,s)}]}(oe);C(se,(e=>{if(He(),!Ve.value||"both"!==u.resize)return;const a=e[0],{width:t}=a.contentRect;fe.value={right:`calc(100% - ${t+15+6}px)`}}));const Te=()=>{const{type:a,autosize:t}=u;if(e&&"textarea"===a&&se.value)if(t){const e=U(t)?t.minRows:void 0,a=U(t)?t.maxRows:void 0,n=me(se.value,e,a);ve.value={overflowY:"hidden",...n},F((()=>{se.value.offsetHeight,ve.value=n}))}else ve.value={minHeight:me(se.value).minHeight}},He=(e=>{let a=!1;return()=>{var t;if(a||!u.autosize)return;null===(null==(t=se.value)?void 0:t.offsetParent)||(e(),a=!0)}})(Te),Oe=()=>{const e=ye.value,a=u.formatter?u.formatter($e.value):$e.value;e&&e.value!==a&&(e.value=a)},Ke=async e=>{_e();let{value:a}=e.target;u.formatter&&(a=u.parser?u.parser(a):a),ue.value||(a!==$e.value?(o(le,a),o("input",a),await F(),Oe(),je()):Oe())},We=e=>{o("change",e.target.value)},De=e=>{o("compositionstart",e),ue.value=!0},Le=e=>{var a;o("compositionupdate",e);const t=null==(a=e.target)?void 0:a.value,n=t[t.length-1]||"";ue.value=!ie(n)},Xe=e=>{o("compositionend",e),ue.value&&(ue.value=!1,Ke(e))},Ye=()=>{ce.value=!ce.value,Ge()},Ge=async()=>{var e;await F(),null==(e=ye.value)||e.focus()},Qe=e=>{re.value=!1,o("mouseleave",e)},Ue=e=>{re.value=!0,o("mouseenter",e)},Ze=e=>{o("keydown",e)},qe=()=>{o(le,""),o("change",""),o("clear"),o("input","")};return r((()=>u.modelValue),(()=>{var e;F((()=>Te())),u.validateEvent&&(null==(e=null==x?void 0:x.validate)||e.call(x,"change").catch((e=>l(e))))})),r($e,(()=>Oe())),r((()=>u.type),(async()=>{await F(),Oe(),Te()})),E((()=>{!u.formatter&&u.parser&&l("ElInput","If you set the parser, you also need to set the formatter."),Oe(),F(Te)})),n({input:oe,textarea:se,ref:ye,textareaStyle:Be,autosize:B(u,"autosize"),focus:Ge,blur:()=>{var e;return null==(e=ye.value)?void 0:e.blur()},select:()=>{var e;null==(e=ye.value)||e.select()},clear:qe,resizeTextarea:Te}),(e,a)=>($(),P("div",K(M(c),{class:M(f),style:M(Ee),role:e.containerRole,onMouseenter:Ue,onMouseleave:Qe}),[N(" input "),"textarea"!==e.type?($(),P(V,{key:0},[N(" prepend slot "),e.$slots.prepend?($(),P("div",{key:0,class:A(M(te).be("group","prepend"))},[R(e.$slots,"prepend")],2)):N("v-if",!0),_("div",{ref_key:"wrapperRef",ref:xe,class:A(M(v))},[N(" prefix slot "),e.$slots.prefix||e.prefixIcon?($(),P("span",{key:0,class:A(M(te).e("prefix"))},[_("span",{class:A(M(te).e("prefix-inner"))},[R(e.$slots,"prefix"),e.prefixIcon?($(),j(M(O),{key:0,class:A(M(te).e("icon"))},{default:T((()=>[($(),j(H(e.prefixIcon)))])),_:1},8,["class"])):N("v-if",!0)],2)],2)):N("v-if",!0),_("input",K({id:M(g),ref_key:"input",ref:oe,class:M(te).e("inner")},M(m),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?ce.value?"text":"password":e.type,disabled:M(Z),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,onCompositionstart:De,onCompositionupdate:Le,onCompositionend:Xe,onInput:Ke,onFocus:a[0]||(a[0]=(...e)=>M(Se)&&M(Se)(...e)),onBlur:a[1]||(a[1]=(...e)=>M(ke)&&M(ke)(...e)),onChange:We,onKeydown:Ze}),null,16,he),N(" suffix slot "),M(Re)?($(),P("span",{key:1,class:A(M(te).e("suffix"))},[_("span",{class:A(M(te).e("suffix-inner"))},[M(Pe)&&M(Ne)&&M(Ve)?N("v-if",!0):($(),P(V,{key:0},[R(e.$slots,"suffix"),e.suffixIcon?($(),j(M(O),{key:0,class:A(M(te).e("icon"))},{default:T((()=>[($(),j(H(e.suffixIcon)))])),_:1},8,["class"])):N("v-if",!0)],64)),M(Pe)?($(),j(M(O),{key:1,class:A([M(te).e("icon"),M(te).e("clear")]),onMousedown:L(M(X),["prevent"]),onClick:qe},{default:T((()=>[W(M(D))])),_:1},8,["class","onMousedown"])):N("v-if",!0),M(Ne)?($(),j(M(O),{key:2,class:A([M(te).e("icon"),M(te).e("password")]),onClick:Ye},{default:T((()=>[($(),j(H(M(Fe))))])),_:1},8,["class"])):N("v-if",!0),M(Ve)?($(),P("span",{key:3,class:A(M(te).e("count"))},[_("span",{class:A(M(te).e("count-inner"))},Y(M(Ae))+" / "+Y(e.maxlength),3)],2)):N("v-if",!0),M(Ie)&&M(Ce)&&M(ze)?($(),j(M(O),{key:4,class:A([M(te).e("icon"),M(te).e("validateIcon"),M(te).is("loading","validating"===M(Ie))])},{default:T((()=>[($(),j(H(M(Ce))))])),_:1},8,["class"])):N("v-if",!0)],2)],2)):N("v-if",!0)],2),N(" append slot "),e.$slots.append?($(),P("div",{key:1,class:A(M(te).be("group","append"))},[R(e.$slots,"append")],2)):N("v-if",!0)],64)):($(),P(V,{key:1},[N(" textarea "),_("textarea",K({id:M(g),ref_key:"textarea",ref:se,class:M(ne).e("inner")},M(m),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:M(Z),readonly:e.readonly,autocomplete:e.autocomplete,style:M(Be),"aria-label":e.label,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,onCompositionstart:De,onCompositionupdate:Le,onCompositionend:Xe,onInput:Ke,onFocus:a[2]||(a[2]=(...e)=>M(Se)&&M(Se)(...e)),onBlur:a[3]||(a[3]=(...e)=>M(ke)&&M(ke)(...e)),onChange:We,onKeydown:Ze}),null,16,be),M(Ve)?($(),P("span",{key:0,style:G(fe.value),class:A(M(te).e("count"))},Y(M(Ae))+" / "+Y(e.maxlength),7)):N("v-if",!0)],64))],16,ge))}}),[["__file","input.vue"]]));export{oe as C,Se as E,se as I,le as U,pe as a,te as b,ne as c,ie as i,de as u};
