import{a6 as e,ah as n,B as o,d as t,O as l,r,aI as a,aA as s,a7 as i,a as u,aK as d,A as c,Y as p,G as f,cJ as m,bg as v,V as g,ag as b,K as h,o as y,i as w,w as E,e as C,bt as I,bu as k,az as x,E as T,C as B,b3 as S,aH as _,H as M,I as R,J as F,c as O,ap as L,M as $,n as P,P as A,aS as K,f as D,ad as z,N,F as G,a8 as H,S as j,bK as V,cK as J,cL as U,s as Y,cM as q,bs as W,L as Q,t as Z,aG as X,x as ee,Q as ne,h as oe,ak as te,am as le,aw as re,cN as ae,bc as se,aP as ie,b4 as ue,b0 as de,al as ce,aJ as pe}from"./index-14c99acf.js";import{E as fe}from"./el-button-b39417c4.js";import{c as me,d as ve,u as ge,E as be,O as he,w as ye}from"./el-popper-423896a2.js";import{c as we,a as Ee}from"./use-form-common-props-d73423f8.js";import{c as Ce,u as Ie}from"./index-6d20cfdf.js";import{F as ke,E as xe}from"./focus-trap-4b2fe507.js";import{E as Te}from"./el-input-90f914cc.js";import{E as Be,a as Se,u as _e}from"./el-overlay-e1a7640a.js";import{o as Me}from"./aria-ecee1d93.js";import{i as Re}from"./validator-4801b3bd.js";const Fe="_trap-focus-children",Oe=[],Le=e=>{if(0===Oe.length)return;const o=Oe[Oe.length-1][Fe];if(o.length>0&&e.code===n.tab){if(1===o.length)return e.preventDefault(),void(document.activeElement!==o[0]&&o[0].focus());const n=e.shiftKey,t=e.target===o[0],l=e.target===o[o.length-1];t&&n&&(e.preventDefault(),o[o.length-1].focus()),l&&!n&&(e.preventDefault(),o[0].focus())}},$e={beforeMount(e){e[Fe]=Me(e),Oe.push(e),Oe.length<=1&&document.addEventListener("keydown",Le)},updated(n){e((()=>{n[Fe]=Me(n)}))},unmounted(){Oe.shift(),0===Oe.length&&document.removeEventListener("keydown",Le)}};var Pe=o(t({inheritAttrs:!1}),[["render",function(e,n,o,t,r,a){return l(e.$slots,"default")}],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);var Ae=o(t({name:"ElCollectionItem",inheritAttrs:!1}),[["render",function(e,n,o,t,r,a){return l(e.$slots,"default")}],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ke="data-el-collection-item",De=e=>{const n=`El${e}Collection`,o=`${n}Item`,t=Symbol(n),l=Symbol(o),c={...Pe,name:n,setup(){const e=r(null),n=new Map;a(t,{itemMap:n,getItems:()=>{const o=u(e);if(!o)return[];const t=Array.from(o.querySelectorAll(`[${Ke}]`));return[...n.values()].sort(((e,n)=>t.indexOf(e.ref)-t.indexOf(n.ref)))},collectionRef:e})}},p={...Ae,name:o,setup(e,{attrs:n}){const o=r(null),c=s(t,void 0);a(l,{collectionItemRef:o}),i((()=>{const e=u(o);e&&c.itemMap.set(e,{ref:e,...n})})),d((()=>{const e=u(o);c.itemMap.delete(e)}))}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:l,ElCollection:c,ElCollectionItem:p}},ze=c({style:{type:p([String,Array,Object])},currentTabId:{type:p(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:p(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Ne,ElCollectionItem:Ge,COLLECTION_INJECTION_KEY:He,COLLECTION_ITEM_INJECTION_KEY:je}=De("RovingFocusGroup"),Ve=Symbol("elRovingFocusGroup"),Je=Symbol("elRovingFocusGroupItem"),Ue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Ye=(e,o,t)=>{const l=((e,o)=>{if("rtl"!==o)return e;switch(e){case n.right:return n.left;case n.left:return n.right;default:return e}})(e.key,t);if(!("vertical"===o&&[n.left,n.right].includes(l)||"horizontal"===o&&[n.up,n.down].includes(l)))return Ue[l]},qe=e=>{const{activeElement:n}=document;for(const o of e){if(o===n)return;if(o.focus(),n!==document.activeElement)return}},We="currentTabIdChange",Qe="rovingFocusGroup.entryFocus",Ze={bubbles:!1,cancelable:!0},Xe=t({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:ze,emits:[We,"entryFocus"],setup(e,{emit:n}){var o;const t=r(null!=(o=e.currentTabId||e.defaultCurrentTabId)?o:null),l=r(!1),i=r(!1),d=r(null),{getItems:c}=s(He,void 0),p=f((()=>[{outline:"none"},e.style])),h=me((n=>{var o;null==(o=e.onMousedown)||o.call(e,n)}),(()=>{i.value=!0})),y=me((n=>{var o;null==(o=e.onFocus)||o.call(e,n)}),(e=>{const n=!u(i),{target:o,currentTarget:r}=e;if(o===r&&n&&!u(l)){const e=new Event(Qe,Ze);if(null==r||r.dispatchEvent(e),!e.defaultPrevented){const e=c().filter((e=>e.focusable)),n=[e.find((e=>e.active)),e.find((e=>e.id===u(t))),...e].filter(Boolean).map((e=>e.ref));qe(n)}}i.value=!1})),w=me((n=>{var o;null==(o=e.onBlur)||o.call(e,n)}),(()=>{l.value=!1}));a(Ve,{currentTabbedId:m(t),loop:v(e,"loop"),tabIndex:f((()=>u(l)?-1:0)),rovingFocusGroupRef:d,rovingFocusGroupRootStyle:p,orientation:v(e,"orientation"),dir:v(e,"dir"),onItemFocus:e=>{n(We,e)},onItemShiftTab:()=>{l.value=!0},onBlur:w,onFocus:y,onMousedown:h}),g((()=>e.currentTabId),(e=>{t.value=null!=e?e:null})),b(d,Qe,((...e)=>{n("entryFocus",...e)}))}});var en=o(t({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Ne,ElRovingFocusGroupImpl:o(Xe,[["render",function(e,n,o,t,r,a){return l(e.$slots,"default")}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]])}}),[["render",function(e,n,o,t,r,a){const s=h("el-roving-focus-group-impl"),i=h("el-focus-group-collection");return y(),w(i,null,{default:E((()=>[C(s,I(k(e.$attrs)),{default:E((()=>[l(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);var nn=o(t({components:{ElRovingFocusCollectionItem:Ge},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(o,{emit:t}){const{currentTabbedId:l,loop:i,onItemFocus:d,onItemShiftTab:c}=s(Ve,void 0),{getItems:p}=s(He,void 0),m=we(),v=r(null),g=me((e=>{t("mousedown",e)}),(e=>{o.focusable?d(u(m)):e.preventDefault()})),b=me((e=>{t("focus",e)}),(()=>{d(u(m))})),h=me((e=>{t("keydown",e)}),(o=>{const{key:t,shiftKey:l,target:r,currentTarget:a}=o;if(t===n.tab&&l)return void c();if(r!==a)return;const s=Ye(o);if(s){o.preventDefault();let n=p().filter((e=>e.focusable)).map((e=>e.ref));switch(s){case"last":n.reverse();break;case"prev":case"next":{"prev"===s&&n.reverse();const e=n.indexOf(a);n=i.value?(d=e+1,(u=n).map(((e,n)=>u[(n+d)%u.length]))):n.slice(e+1);break}}e((()=>{qe(n)}))}var u,d})),y=f((()=>l.value===u(m)));return a(Je,{rovingFocusGroupItemRef:v,tabIndex:f((()=>u(y)?0:-1)),handleMousedown:g,handleFocus:b,handleKeydown:h}),{id:m,handleKeydown:h,handleFocus:b,handleMousedown:g}}}),[["render",function(e,n,o,t,r,a){const s=h("el-roving-focus-collection-item");return y(),w(s,{id:e.id,focusable:e.focusable,active:e.active},{default:E((()=>[l(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const on=c({trigger:ve.trigger,effect:{...ge.effect,default:"light"},type:{type:p(String)},placement:{type:p(String),default:"bottom"},popperOptions:{type:p(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:p([Number,String]),default:0},maxHeight:{type:p([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:p(Object)},teleported:ge.teleported}),tn=c({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:x}}),ln=c({onKeydown:{type:p(Function)}}),rn=[n.down,n.pageDown,n.home],an=[n.up,n.pageUp,n.end],sn=[...rn,...an],{ElCollection:un,ElCollectionItem:dn,COLLECTION_INJECTION_KEY:cn,COLLECTION_ITEM_INJECTION_KEY:pn}=De("Dropdown"),fn=Symbol("elDropdown"),{ButtonGroup:mn}=fe;var vn=o(t({name:"ElDropdown",components:{ElButton:fe,ElButtonGroup:mn,ElScrollbar:T,ElDropdownCollection:un,ElTooltip:be,ElRovingFocusGroup:en,ElOnlyChild:he,ElIcon:B,ArrowDown:S},props:on,emits:["visible-change","click","command"],setup(e,{emit:o}){const t=_(),l=M("dropdown"),{t:s}=R(),i=r(),c=r(),p=r(null),m=r(null),b=r(null),h=r(null),y=r(!1),w=[n.enter,n.space,n.down],E=f((()=>({maxHeight:F(e.maxHeight)}))),C=f((()=>[l.m(T.value)])),I=we().value,k=f((()=>e.id||I));function x(){var e;null==(e=p.value)||e.onClose()}g([i,v(e,"trigger")],(([e,n],[o])=>{var t,l,r;const a=K(n)?n:[n];(null==(t=null==o?void 0:o.$el)?void 0:t.removeEventListener)&&o.$el.removeEventListener("pointerenter",B),(null==(l=null==e?void 0:e.$el)?void 0:l.removeEventListener)&&e.$el.removeEventListener("pointerenter",B),(null==(r=null==e?void 0:e.$el)?void 0:r.addEventListener)&&a.includes("hover")&&e.$el.addEventListener("pointerenter",B)}),{immediate:!0}),d((()=>{var e,n;(null==(n=null==(e=i.value)?void 0:e.$el)?void 0:n.removeEventListener)&&i.value.$el.removeEventListener("pointerenter",B)}));const T=Ee();function B(){var e,n;null==(n=null==(e=i.value)?void 0:e.$el)||n.focus()}a(fn,{contentRef:m,role:f((()=>e.role)),triggerId:k,isUsingKeyboard:y,onItemEnter:function(){},onItemLeave:function(){const e=u(m);null==e||e.focus(),h.value=null}}),a("elDropdown",{instance:t,dropdownSize:T,handleClick:function(){x()},commandHandler:function(...e){o("command",...e)},trigger:v(e,"trigger"),hideOnClick:v(e,"hideOnClick")});return{t:s,ns:l,scrollbar:b,wrapStyle:E,dropdownTriggerKls:C,dropdownSize:T,triggerId:k,triggerKeys:w,currentTabId:h,handleCurrentTabIdChange:function(e){h.value=e},handlerMainButtonClick:e=>{o("click",e)},handleEntryFocus:function(e){y.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:x,handleOpen:function(){var e;null==(e=p.value)||e.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&m.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:e=>{var n,o;e.preventDefault(),null==(o=null==(n=m.value)?void 0:n.focus)||o.call(n,{preventScroll:!0})},popperRef:p,contentRef:m,triggeringElementRef:i,referenceElementRef:c}}}),[["render",function(e,n,o,t,r,a){var s;const i=h("el-dropdown-collection"),u=h("el-roving-focus-group"),d=h("el-scrollbar"),c=h("el-only-child"),p=h("el-tooltip"),f=h("el-button"),m=h("arrow-down"),v=h("el-icon"),g=h("el-button-group");return y(),O("div",{class:P([e.ns.b(),e.ns.is("disabled",e.disabled)])},[C(p,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(s=e.referenceElementRef)?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},L({content:E((()=>[C(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:E((()=>[C(u,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:E((()=>[C(i,null,{default:E((()=>[l(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:E((()=>[C(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:E((()=>[l(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(y(),w(g,{key:0},{default:E((()=>[C(f,$({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:E((()=>[l(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),C(f,$({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:E((()=>[C(v,{class:P(e.ns.e("icon"))},{default:E((()=>[C(m)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):A("v-if",!0)],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const gn=t({name:"DropdownItemImpl",components:{ElIcon:B},props:tn,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const t=M("dropdown"),{role:l}=s(fn,void 0),{collectionItemRef:r}=s(pn,void 0),{collectionItemRef:a}=s(je,void 0),{rovingFocusGroupItemRef:i,tabIndex:u,handleFocus:d,handleKeydown:c,handleMousedown:p}=s(Je,void 0),m=Ce(r,a,i),v=f((()=>"menu"===l.value?"menuitem":"navigation"===l.value?"link":"button")),g=me((e=>{const{code:t}=e;if(t===n.enter||t===n.space)return e.preventDefault(),e.stopImmediatePropagation(),o("clickimpl",e),!0}),c);return{ns:t,itemRef:m,dataset:{[Ke]:""},role:v,tabIndex:u,handleFocus:d,handleKeydown:g,handleMousedown:p}}}),bn=["aria-disabled","tabindex","role"];const hn=()=>{const e=s("elDropdown",{}),n=f((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:n}};var yn=o(t({name:"ElDropdownItem",components:{ElDropdownCollectionItem:dn,ElRovingFocusItem:nn,ElDropdownItemImpl:o(gn,[["render",function(e,n,o,t,r,a){const s=h("el-icon");return y(),O(G,null,[e.divided?(y(),O("li",$({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):A("v-if",!0),D("li",$({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=n=>e.$emit("clickimpl",n)),onFocus:n[1]||(n[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onKeydown:n[2]||(n[2]=N(((...n)=>e.handleKeydown&&e.handleKeydown(...n)),["self"])),onMousedown:n[3]||(n[3]=(...n)=>e.handleMousedown&&e.handleMousedown(...n)),onPointermove:n[4]||(n[4]=n=>e.$emit("pointermove",n)),onPointerleave:n[5]||(n[5]=n=>e.$emit("pointerleave",n))}),[e.icon?(y(),w(s,{key:0},{default:E((()=>[(y(),w(z(e.icon)))])),_:1})):A("v-if",!0),l(e.$slots,"default")],16,bn)],64)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]])},inheritAttrs:!1,props:tn,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:o}){const{elDropdown:t}=hn(),l=_(),a=r(null),i=f((()=>{var e,n;return null!=(n=null==(e=u(a))?void 0:e.textContent)?n:""})),{onItemEnter:d,onItemLeave:c}=s(fn,void 0),p=me((e=>(n("pointermove",e),e.defaultPrevented)),ye((n=>{if(e.disabled)return void c(n);const o=n.currentTarget;o===document.activeElement||o.contains(document.activeElement)||(d(n),n.defaultPrevented||null==o||o.focus())}))),m=me((e=>(n("pointerleave",e),e.defaultPrevented)),ye((e=>{c(e)})));return{handleClick:me((o=>{if(!e.disabled)return n("click",o),"keydown"!==o.type&&o.defaultPrevented}),(n=>{var o,r,a;e.disabled?n.stopImmediatePropagation():((null==(o=null==t?void 0:t.hideOnClick)?void 0:o.value)&&(null==(r=t.handleClick)||r.call(t)),null==(a=t.commandHandler)||a.call(t,e.command,l,n))})),handlePointerMove:p,handlePointerLeave:m,textContent:i,propsAndAttrs:f((()=>({...e,...o})))}}}),[["render",function(e,n,o,t,r,a){var s;const i=h("el-dropdown-item-impl"),u=h("el-roving-focus-item"),d=h("el-dropdown-collection-item");return y(),w(d,{disabled:e.disabled,"text-value":null!=(s=e.textValue)?s:e.textContent},{default:E((()=>[C(u,{focusable:!e.disabled},{default:E((()=>[C(i,$(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:E((()=>[l(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const wn=t({name:"ElDropdownMenu",props:ln,setup(e){const o=M("dropdown"),{_elDropdownSize:t}=hn(),l=t.value,{focusTrapRef:r,onKeydown:a}=s(ke,void 0),{contentRef:i,role:d,triggerId:c}=s(fn,void 0),{collectionRef:p,getItems:m}=s(cn,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:g,tabIndex:b,onBlur:h,onFocus:y,onMousedown:w}=s(Ve,void 0),{collectionRef:E}=s(He,void 0),C=f((()=>[o.b("menu"),o.bm("menu",null==l?void 0:l.value)])),I=Ce(i,p,r,v,E),k=me((n=>{var o;null==(o=e.onKeydown)||o.call(e,n)}),(e=>{const{currentTarget:o,code:t,target:l}=e;if(o.contains(l),n.tab===t&&e.stopImmediatePropagation(),e.preventDefault(),l!==u(i))return;if(!sn.includes(t))return;const r=m().filter((e=>!e.disabled)).map((e=>e.ref));an.includes(t)&&r.reverse(),qe(r)}));return{size:l,rovingFocusGroupRootStyle:g,tabIndex:b,dropdownKls:C,role:d,triggerId:c,dropdownListWrapperRef:I,handleKeydown:e=>{k(e),a(e)},onBlur:h,onFocus:y,onMousedown:w}}}),En=["role","aria-labelledby"];var Cn=o(wn,[["render",function(e,n,o,t,r,a){return y(),O("ul",{ref:e.dropdownListWrapperRef,class:P(e.dropdownKls),style:H(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...n)=>e.onBlur&&e.onBlur(...n)),onFocus:n[1]||(n[1]=(...n)=>e.onFocus&&e.onFocus(...n)),onKeydown:n[2]||(n[2]=N(((...n)=>e.handleKeydown&&e.handleKeydown(...n)),["self"])),onMousedown:n[3]||(n[3]=N(((...n)=>e.onMousedown&&e.onMousedown(...n)),["self"]))},[l(e.$slots,"default")],46,En)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const In=j(vn,{DropdownItem:yn,DropdownMenu:Cn}),kn=V(yn),xn=V(Cn),Tn=t({name:"ElMessageBox",directives:{TrapFocus:$e},components:{ElButton:fe,ElFocusTrap:xe,ElInput:Te,ElOverlay:Be,ElIcon:B,...J},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Re},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:o}){const{locale:t,zIndex:l,ns:a,size:s}=U("message-box",f((()=>n.buttonSize))),{t:u}=t,{nextZIndex:c}=l,p=r(!1),m=Y({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),v=f((()=>{const e=m.type;return{[a.bm("icon",e)]:e&&q[e]}})),b=we(),h=we(),y=f((()=>m.icon||q[m.type]||"")),w=f((()=>!!m.message)),E=r(),C=r(),I=r(),k=r(),x=r(),T=f((()=>m.confirmButtonClass));g((()=>m.inputValue),(async o=>{await e(),"prompt"===n.boxType&&null!==o&&F()}),{immediate:!0}),g((()=>p.value),(o=>{var t,l;o&&("prompt"!==n.boxType&&(m.autofocus?I.value=null!=(l=null==(t=x.value)?void 0:t.$el)?l:E.value:I.value=E.value),m.zIndex=c()),"prompt"===n.boxType&&(o?e().then((()=>{var e;k.value&&k.value.$el&&(m.autofocus?I.value=null!=(e=O())?e:E.value:I.value=E.value)})):(m.editorErrorMessage="",m.validateError=!1))}));const B=f((()=>n.draggable));function S(){p.value&&(p.value=!1,e((()=>{m.action&&o("action",m.action)})))}Ie(E,C,B),i((async()=>{await e(),n.closeOnHashChange&&window.addEventListener("hashchange",S)})),d((()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",S)}));const _=()=>{n.closeOnClickModal&&R(m.distinguishCancelAndClose?"close":"cancel")},M=_e(_),R=e=>{var o;("prompt"!==n.boxType||"confirm"!==e||F())&&(m.action=e,m.beforeClose?null==(o=m.beforeClose)||o.call(m,e,m,S):S())},F=()=>{if("prompt"===n.boxType){const e=m.inputPattern;if(e&&!e.test(m.inputValue||""))return m.editorErrorMessage=m.inputErrorMessage||u("el.messagebox.error"),m.validateError=!0,!1;const n=m.inputValidator;if("function"==typeof n){const e=n(m.inputValue);if(!1===e)return m.editorErrorMessage=m.inputErrorMessage||u("el.messagebox.error"),m.validateError=!0,!1;if("string"==typeof e)return m.editorErrorMessage=e,m.validateError=!0,!1}}return m.editorErrorMessage="",m.validateError=!1,!0},O=()=>{const e=k.value.$refs;return e.input||e.textarea},L=()=>{R("close")};return n.lockScroll&&Se(p),{...W(m),ns:a,overlayEvent:M,visible:p,hasMessage:w,typeClass:v,contentId:b,inputId:h,btnSize:s,iconComponent:y,confirmButtonClasses:T,rootRef:E,focusStartRef:I,headerRef:C,inputRef:k,confirmRef:x,doClose:S,handleClose:L,onCloseRequested:()=>{n.closeOnPressEscape&&L()},handleWrapperClick:_,handleInputEnter:e=>{if("textarea"!==m.inputType)return e.preventDefault(),R("confirm")},handleAction:R,t:u}}}),Bn=["aria-label","aria-describedby"],Sn=["aria-label"],_n=["id"];var Mn=o(Tn,[["render",function(e,n,o,t,r,a){const s=h("el-icon"),i=h("close"),u=h("el-input"),d=h("el-button"),c=h("el-focus-trap"),p=h("el-overlay");return y(),w(oe,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=n=>e.$emit("vanish")),persisted:""},{default:E((()=>[Q(C(p,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:E((()=>[D("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:P(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...n)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...n)),onMousedown:n[9]||(n[9]=(...n)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...n)),onMouseup:n[10]||(n[10]=(...n)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...n))},[C(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:E((()=>[D("div",{ref:"rootRef",class:P([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:H(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=N((()=>{}),["stop"]))},[null!==e.title&&void 0!==e.title?(y(),O("div",{key:0,ref:"headerRef",class:P(e.ns.e("header"))},[D("div",{class:P(e.ns.e("title"))},[e.iconComponent&&e.center?(y(),w(s,{key:0,class:P([e.ns.e("status"),e.typeClass])},{default:E((()=>[(y(),w(z(e.iconComponent)))])),_:1},8,["class"])):A("v-if",!0),D("span",null,Z(e.title),1)],2),e.showClose?(y(),O("button",{key:0,type:"button",class:P(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=n=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=X(N((n=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"]))},[C(s,{class:P(e.ns.e("close"))},{default:E((()=>[C(i)])),_:1},8,["class"])],42,Sn)):A("v-if",!0)],2)):A("v-if",!0),D("div",{id:e.contentId,class:P(e.ns.e("content"))},[D("div",{class:P(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(y(),w(s,{key:0,class:P([e.ns.e("status"),e.typeClass])},{default:E((()=>[(y(),w(z(e.iconComponent)))])),_:1},8,["class"])):A("v-if",!0),e.hasMessage?(y(),O("div",{key:1,class:P(e.ns.e("message"))},[l(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(y(),w(z(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(y(),w(z(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:E((()=>[ee(Z(e.dangerouslyUseHTMLString?"":e.message),1)])),_:1},8,["for"]))]))],2)):A("v-if",!0)],2),Q(D("div",{class:P(e.ns.e("input"))},[C(u,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=n=>e.inputValue=n),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:P({invalid:e.validateError}),onKeydown:X(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),D("div",{class:P(e.ns.e("errormsg")),style:H({visibility:e.editorErrorMessage?"visible":"hidden"})},Z(e.editorErrorMessage),7)],2),[[ne,e.showInput]])],10,_n),D("div",{class:P(e.ns.e("btns"))},[e.showCancelButton?(y(),w(d,{key:0,loading:e.cancelButtonLoading,class:P([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=n=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=X(N((n=>e.handleAction("cancel")),["prevent"]),["enter"]))},{default:E((()=>[ee(Z(e.cancelButtonText||e.t("el.messagebox.cancel")),1)])),_:1},8,["loading","class","round","size"])):A("v-if",!0),Q(C(d,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:P([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=n=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=X(N((n=>e.handleAction("confirm")),["prevent"]),["enter"]))},{default:E((()=>[ee(Z(e.confirmButtonText||e.t("el.messagebox.confirm")),1)])),_:1},8,["loading","class","round","disabled","size"]),[[ne,e.showConfirmButton]])],2)],6)])),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Bn)])),_:3},8,["z-index","overlay-class","mask"]),[[ne,e.visible]])])),_:3})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Rn=new Map,Fn=(e,n,o=null)=>{const t=C(Mn,e,de(e.message)||re(e.message)?{default:de(e.message)?e.message:()=>e.message}:null);return t.appContext=o,ae(t,n),(e=>{let n=document.body;return e.appendTo&&(le(e.appendTo)&&(n=document.querySelector(e.appendTo)),ce(e.appendTo)&&(n=e.appendTo),ce(n)||(pe("ElMessageBox","the appendTo option is not an HTMLElement. Falling back to document.body."),n=document.body)),n})(e).appendChild(n.firstElementChild),t.component},On=(e,n)=>{const o=document.createElement("div");e.onVanish=()=>{ae(null,o),Rn.delete(l)},e.onAction=n=>{const o=Rn.get(l);let r;r=e.showInput?{value:l.inputValue,action:n}:n,e.callback?e.callback(r,t.proxy):"cancel"===n||"close"===n?e.distinguishCancelAndClose&&"cancel"!==n?o.reject("close"):o.reject("cancel"):o.resolve(r)};const t=Fn(e,o,n),l=t.proxy;for(const r in e)se(e,r)&&!se(l.$props,r)&&(l[r]=e[r]);return l.visible=!0,l};function Ln(e,n=null){if(!te)return Promise.reject();let o;return le(e)||re(e)?e={message:e}:o=e.callback,new Promise(((t,l)=>{const r=On(e,null!=n?n:Ln._context);Rn.set(r,{options:e,callback:o,resolve:t,reject:l})}))}const $n={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};["alert","confirm","prompt"].forEach((e=>{Ln[e]=function(e){return(n,o,t,l)=>{let r="";return ie(o)?(t=o,r=""):r=ue(o)?"":o,Ln(Object.assign({title:r,message:n,type:"",...$n[e]},t,{boxType:e}),l)}}(e)})),Ln.close=()=>{Rn.forEach(((e,n)=>{n.doClose()})),Rn.clear()},Ln._context=null;const Pn=Ln;Pn.install=e=>{Pn._context=e._context,e.config.globalProperties.$msgbox=Pn,e.config.globalProperties.$messageBox=Pn,e.config.globalProperties.$alert=Pn.alert,e.config.globalProperties.$confirm=Pn.confirm,e.config.globalProperties.$prompt=Pn.prompt};const An=Pn,Kn={id:"id",children:"children",pid:"pid"},Dn=e=>Object.assign({},Kn,e),zn=(e,n={})=>{n=Dn(n);const{children:o}=n,t=[...e];for(let l=0;l<t.length;l++)t[l][o]&&t.splice(l+1,0,...t[l][o]);return t},Nn=(e,n,o={})=>{o=Dn(o);const t=[],l=[...e],r=new Set,{children:a}=o;for(;l.length;){const e=l[0];if(r.has(e))t.pop(),l.shift();else if(r.add(e),e[a]&&l.unshift(...e[a]),t.push(e),n(e))return t}return null},Gn=(e,n,o={})=>{const t=(o=Dn(o)).children;return function e(o){return o.map((e=>({...e}))).filter((o=>(o[t]=o[t]&&e(o[t]),n(o)||o[t]&&o[t].length)))}(e)},Hn=(e,n)=>e.map((e=>jn(e,n))),jn=(e,{children:n="children",conversion:o})=>{const t=Array.isArray(e[n])&&e[n].length>0,l=o(e)||{};return t?{...l,[n]:e[n].map((e=>jn(e,{children:n,conversion:o})))}:{...l}},Vn=(e,n,o={})=>{e.forEach((e=>{const t=n(e,o)||e;e.children&&Vn(e.children,n,t)}))};export{An as E,In as a,xn as b,kn as c,Nn as d,Vn as e,Gn as f,zn as g,Hn as t};
