import{d as e,u as a,r as l,q as d,e as s,s as t,F as i,v as n,o as r,i as o,w as p,a as c,f as m,y as _,_ as h}from"./index-5daae5c6.js";import{u as f,a as u,S as b,T as g,C as y}from"./useCrudSchemas-e967c18a.js";import{E as w}from"./el-button-4a7b0ca2.js";import{E as v}from"./tree-0c97eafb.js";import"./el-input-d215ca9f.js";import{j,b as x}from"./index-80679fe0.js";import{u as S}from"./useEmitt-7829992f.js";import"./el-tooltip-4cf8d1ca.js";import"./el-popper-8a023621.js";import"./useForm-92649af8.js";import"./el-form-item-ada12a4e.js";import"./el-select-03ddc29b.js";import"./index-5f2b1643.js";const P={class:"mb-10px"},k=e({name:"PlayerDetailGroup"}),z=h(e({...k,setup(e){const{push:h}=a(),k=l({}),{tableRegister:z,tableState:C,tableMethods:E}=f({fetchDataApi:async()=>{const{currentPage:e,pageSize:a}=C,l=await x({page:c(e),limit:c(a),...c(k)});return console.log("res=",l),{list:l.items,total:l.meta.total}}}),{loading:I,dataList:T,total:B,currentPage:D,pageSize:F}=C,{getList:L}=E;S({name:"getPlayerDetailList",callback:e=>{"add"===e&&(D.value=1),L()}});const R=d([{field:"player_id",label:"id",search:{hidden:!0}},{field:"name",label:"player name",search:{hidden:!0}},{field:"game_season",label:"game season",search:{hidden:!0}},{field:"name",label:"player name",search:{component:"Input"},form:{component:"Input",colProps:{span:24}},detail:{span:24}},{field:"team_name",label:"Team_Name",search:{component:"Input"},form:{component:"Input",colProps:{span:24}},detail:{span:24}},{field:"game_played_count",label:"game_played",search:{hidden:!0}},{field:"min_played",label:"min_played",search:{hidden:!0}},{field:"points",label:"points",search:{hidden:!0}},{field:"field_goals_made",label:"field_goals_made",search:{hidden:!0}},{field:"field_goals_attempted",label:"field_goals_attempted",search:{hidden:!0}},{field:"field_goals_percentage",label:"field_goals_percentage",search:{hidden:!0}},{field:"number_3_points_goal_made",label:"3_points_goal_made",search:{hidden:!0}},{field:"number_3_points_goal_attempted",label:"3_points_goal_attempted",search:{hidden:!0}},{field:"number_3_points_goal_percentage",label:"3_points_goal_Percentage",search:{hidden:!0}},{field:"free_throws_made",label:"free_throws_made",search:{hidden:!0}},{field:"free_throws_attempted",label:"free_throws_attempted",search:{hidden:!0}},{field:"free_throw_percentage",label:"free_throw_percentage",search:{hidden:!0}},{field:"offensive_rebounds",label:"offensive_rebounds",search:{hidden:!0}},{field:"defensive_rebounds",label:"defensive_rebounds",search:{hidden:!0}},{field:"total_rebounds",label:"total_rebounds",search:{hidden:!0}},{field:"assists",label:"assists",search:{hidden:!0}},{field:"turnovers",label:"turnovers",search:{hidden:!0}},{field:"steels",label:"steels",search:{hidden:!0}},{field:"blocks",label:"blocks",search:{hidden:!0}},{field:"personal_fouls",label:"personal_fouls",search:{hidden:!0}},{field:"fantacy_points",label:"fantacy_points",search:{hidden:!0}},{field:"doubles_doubles",label:"doubles_doubles",search:{hidden:!0}},{field:"triple_doubles",label:"triple_doubles",search:{hidden:!0}},{field:"action",label:"options",width:"240px",search:{hidden:!0},form:{hidden:!0},detail:{hidden:!0},table:{slots:{default:e=>s(i,null,[s("div",{class:"action-btns",style:"display: flex; flex-wrap: wrap"},[s(w,{type:"primary",onClick:()=>$(e[0].row,"delete")},{default:()=>[t("delete")]}),s(w,{type:"primary",onClick:()=>$(e[0].row,"edit")},{default:()=>[t("edit")]})])])}}}]),{allSchemas:U}=u(R),$=(e,a)=>{console.log("row=",e,a),"detail"===a?h(`/player/detail?id=${e.player_id}`):"edit"===a?h(`/player/edit?id=${e.player_id}`):"delete"===a?v.confirm("is deleted?","tips",{confirmButtonText:"ok",cancelButtonText:"cancel",type:"warning"}).then((async()=>{await j({player_id:e.player_id,game_id:e.game_id,team_id:e.team_id,type:"del"}).catch((()=>{}))&&(n.success("delete success"),L())})):"add"===a&&h(`/player/add?id=${e.player_id}`)},q=()=>{h("/player/edit")},A=e=>{k.value=e,L()};return(e,a)=>(r(),o(c(y),null,{default:p((()=>[s(c(b),{schema:c(U).searchSchema,onSearch:A},null,8,["schema"]),m("div",P,[s(c(w),{type:"primary",onClick:q},{default:p((()=>[t("add")])),_:1})]),s(c(g),{pageSize:c(F),"onUpdate:pageSize":a[0]||(a[0]=e=>_(F)?F.value=e:null),currentPage:c(D),"onUpdate:currentPage":a[1]||(a[1]=e=>_(D)?D.value=e:null),columns:c(U).tableColumns,data:c(T),loading:c(I),pagination:{total:c(B)},onRegister:c(z)},null,8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}}),[["__file","/Users/zyb-dong/iit/cs425/dbproject/frontend/src/views/player/detail.vue"]]);export{z as default};
