import{bL as e,bM as l,aA as t,G as o,aH as a,bD as n,ay as s,V as i,a as r,B as u,d as p,H as d,s as c,bs as v,aK as h,a6 as m,L as f,Q as b,o as g,c as y,O as C,f as S,t as O,n as x,N as T,r as w,a7 as L,b9 as I,a8 as E,I as M,a5 as P,br as V,aJ as k,b0 as K,bN as D,ak as A,$ as z,bO as W,aP as q,ah as B,am as H,E as F,C as R,az as $,aY as j,b3 as _,aI as Q,bP as N,K as G,ax as U,e as J,w as Y,i as X,h as Z,F as ee,U as le,P as te,aG as oe,ba as ae,ap as ne,ad as se,S as ie,bK as re}from"./index-191c25dc.js";import{E as ue,u as pe,a as de}from"./el-popper-39222683.js";import{i as ce,E as ve}from"./el-input-e3d92cd0.js";import{E as he,t as me}from"./el-tag-3b69b670.js";import{u as fe}from"./el-button-6c6de2b9.js";import{u as be}from"./use-form-item-9493112b.js";import{a as ge}from"./use-form-common-props-01089bff.js";import{U as ye,C as Ce}from"./event-5568c9d8.js";import{s as Se}from"./scroll-967728ae.js";import{i as Oe,d as xe,C as Te}from"./el-checkbox-183f938a.js";import{i as we}from"./validator-027b88f2.js";const Le=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ie=l=>e(l),Ee=Symbol("ElSelectGroup"),Me=Symbol("ElSelect");var Pe=u(p({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=d("select"),u=o((()=>[l.be("dropdown","item"),l.is("disabled",r(g)),{selected:r(b),hover:r(O)}])),p=c({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:f,itemSelected:b,isDisabled:g,select:y,hoverItem:C}=function(e,l){const u=t(Me),p=t(Ee,{disabled:!1}),d=o((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),c=o((()=>u.props.multiple?g(u.props.modelValue,e.value):y(e.value,u.props.modelValue))),v=o((()=>{if(u.props.multiple){const e=u.props.modelValue||[];return!c.value&&e.length>=u.props.multipleLimit&&u.props.multipleLimit>0}return!1})),h=o((()=>e.label||(d.value?"":e.value))),m=o((()=>e.value||e.label||"")),f=o((()=>e.disabled||l.groupDisabled||v.value)),b=a(),g=(e=[],l)=>{if(d.value){const t=u.props.valueKey;return e&&e.some((e=>n(s(e,t))===s(l,t)))}return e&&e.includes(l)},y=(e,l)=>{if(d.value){const{valueKey:t}=u.props;return s(e,t)===s(l,t)}return e===l};i((()=>h.value),(()=>{e.created||u.props.remote||u.setSelected()})),i((()=>e.value),((l,t)=>{const{remote:o,valueKey:a}=u.props;if(Object.is(l,t)||(u.onOptionDestroy(t,b.proxy),u.onOptionCreate(b.proxy)),!e.created&&!o){if(a&&"object"==typeof l&&"object"==typeof t&&l[a]===t[a])return;u.setSelected()}})),i((()=>p.disabled),(()=>{l.groupDisabled=p.disabled}),{immediate:!0});const{queryChange:C}=n(u);return i(C,(t=>{const{query:o}=r(t),a=new RegExp(Le(o),"i");l.visible=a.test(h.value)||e.created,l.visible||u.filteredOptionsCount--}),{immediate:!0}),{select:u,currentLabel:h,currentValue:m,itemSelected:c,isDisabled:f,hoverItem:()=>{e.disabled||p.disabled||(u.hoverIndex=u.optionsArray.indexOf(b.proxy))}}}(e,p),{visible:S,hover:O}=v(p),x=a().proxy;return y.onOptionCreate(x),h((()=>{const e=x.value,{selected:l}=y,t=(y.props.multiple?l:[l]).some((e=>e.value===x.value));m((()=>{y.cachedOptions.get(e)!==x||t||y.cachedOptions.delete(e)})),y.onOptionDestroy(e,x)})),{ns:l,containerKls:u,currentLabel:f,itemSelected:b,isDisabled:g,select:y,hoverItem:C,visible:S,hover:O,selectOptionClick:function(){!0!==e.disabled&&!0!==p.groupDisabled&&y.handleOptionSelect(x)},states:p}}}),[["render",function(e,l,t,o,a,n){return f((g(),y("li",{class:x(e.containerKls),onMouseenter:l[0]||(l[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:l[1]||(l[1]=T(((...l)=>e.selectOptionClick&&e.selectOptionClick(...l)),["stop"]))},[C(e.$slots,"default",{},(()=>[S("span",null,O(e.currentLabel),1)]))],34)),[[b,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);var Ve=u(p({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=t(Me),l=d("select"),a=o((()=>e.props.popperClass)),n=o((()=>e.props.multiple)),s=o((()=>e.props.fitInputWidth)),i=w("");function r(){var l;i.value=`${null==(l=e.selectWrapper)?void 0:l.offsetWidth}px`}return L((()=>{r(),I(e.selectWrapper,r)})),{ns:l,minWidth:i,popperClass:a,isMultiple:n,isFitInputWidth:s}}}),[["render",function(e,l,t,o,a,n){return g(),y("div",{class:x([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:E({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[C(e.$slots,"default")],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const ke=(e,t,a)=>{const{t:u}=M(),p=d("select");fe({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},o((()=>!1===e.suffixTransition)));const c=w(null),v=w(null),h=w(null),f=w(null),b=w(null),g=w(null),y=w(null),C=w(null),S=w(-1),O=P({query:""}),x=P(""),T=w([]);let L=0;const{form:I,formItem:E}=be(),F=o((()=>!e.filterable||e.multiple||!t.visible)),R=o((()=>e.disabled||(null==I?void 0:I.disabled))),$=o((()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:void 0!==e.modelValue&&null!==e.modelValue&&""!==e.modelValue;return e.clearable&&!R.value&&t.inputHovering&&l})),j=o((()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon)),_=o((()=>p.is("reverse",j.value&&t.visible&&e.suffixTransition))),Q=o((()=>(null==I?void 0:I.statusIcon)&&(null==E?void 0:E.validateState)&&V[null==E?void 0:E.validateState])),N=o((()=>e.remote?300:0)),G=o((()=>e.loading?e.loadingText||u("el.select.loading"):(!e.remote||""!==t.query||0!==t.options.size)&&(e.filterable&&t.query&&t.options.size>0&&0===t.filteredOptionsCount?e.noMatchText||u("el.select.noMatch"):0===t.options.size?e.noDataText||u("el.select.noData"):null))),U=o((()=>{const e=Array.from(t.options.values()),l=[];return T.value.forEach((t=>{const o=e.findIndex((e=>e.currentLabel===t));o>-1&&l.push(e[o])})),l.length?l:e})),J=o((()=>Array.from(t.cachedOptions.values()))),Y=o((()=>{const l=U.value.filter((e=>!e.created)).some((e=>e.currentLabel===t.query));return e.filterable&&e.allowCreate&&""!==t.query&&!l})),X=ge(),Z=o((()=>["small"].includes(X.value)?"small":"default")),ee=o({get:()=>t.visible&&!1!==G.value,set(e){t.visible=e}});i([()=>R.value,()=>X.value,()=>null==I?void 0:I.size],(()=>{m((()=>{le()}))})),i((()=>e.placeholder),(l=>{t.cachedPlaceHolder=t.currentPlaceholder=l;e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")})),i((()=>e.modelValue),((l,o)=>{e.multiple&&(le(),l&&l.length>0||v.value&&""!==t.query?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",te(t.query))),ne(),e.filterable&&!e.multiple&&(t.inputLength=20),!Oe(l,o)&&e.validateEvent&&(null==E||E.validate("change").catch((e=>k(e))))}),{flush:"post",deep:!0}),i((()=>t.visible),(l=>{var o,n,s,i,r;l?(null==(n=null==(o=f.value)?void 0:o.updatePopper)||n.call(o),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,null==(i=null==(s=h.value)?void 0:s.focus)||i.call(s),e.multiple?null==(r=v.value)||r.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),te(t.query),e.multiple||e.remote||(O.value.query="",D(O),D(x)))):(e.filterable&&(K(e.filterMethod)&&e.filterMethod(""),K(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,ie(),m((()=>{v.value&&""===v.value.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),a.emit("visible-change",l)})),i((()=>t.options.entries()),(()=>{var l,o,a;if(!A)return;null==(o=null==(l=f.value)?void 0:l.updatePopper)||o.call(l),e.multiple&&le();const n=(null==(a=y.value)?void 0:a.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||ne(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&ae()}),{flush:"post"}),i((()=>t.hoverIndex),(e=>{z(e)&&e>-1?S.value=U.value[e]||{}:S.value={},U.value.forEach((e=>{e.hover=S.value===e}))}));const le=()=>{m((()=>{var e,o;if(!c.value)return;const a=c.value.$el.querySelector("input");L=L||(a.clientHeight>0?a.clientHeight+2:0);const n=g.value,s=(i=X.value||(null==I?void 0:I.size),l[i||"default"]);var i;const r=X.value||s===L||L<=0?s:L;!(null===a.offsetParent)&&(a.style.height=(0===t.selected.length?r:Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r))-2+"px"),t.visible&&!1!==G.value&&(null==(o=null==(e=f.value)?void 0:e.updatePopper)||o.call(e))}))},te=async l=>{t.previousQuery===l||t.isOnComposition||(null!==t.previousQuery||!K(e.filterMethod)&&!K(e.remoteMethod)?(t.previousQuery=l,m((()=>{var e,l;t.visible&&(null==(l=null==(e=f.value)?void 0:e.updatePopper)||l.call(e))})),t.hoverIndex=-1,e.multiple&&e.filterable&&m((()=>{const l=15*v.value.value.length+20;t.inputLength=e.collapseTags?Math.min(50,l):l,oe(),le()})),e.remote&&K(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(l)):K(e.filterMethod)?(e.filterMethod(l),D(x)):(t.filteredOptionsCount=t.optionsCount,O.value.query=l,D(O),D(x)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await m(),ae())):t.previousQuery=l)},oe=()=>{""!==t.currentPlaceholder&&(t.currentPlaceholder=v.value.value?"":t.cachedPlaceHolder)},ae=()=>{const e=U.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),l=e.find((e=>e.created)),o=e[0];t.hoverIndex=Te(U.value,l||o)},ne=()=>{var l;if(!e.multiple){const o=se(e.modelValue);return(null==(l=o.props)?void 0:l.created)?(t.createdLabel=o.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=o.currentLabel,t.selected=o,void(e.filterable&&(t.query=t.selectedLabel))}t.selectedLabel="";const o=[];Array.isArray(e.modelValue)&&e.modelValue.forEach((e=>{o.push(se(e))})),t.selected=o,m((()=>{le()}))},se=l=>{let o;const a="object"===W(l).toLowerCase(),n="null"===W(l).toLowerCase(),i="undefined"===W(l).toLowerCase();for(let u=t.cachedOptions.size-1;u>=0;u--){const t=J.value[u];if(a?s(t.value,e.valueKey)===s(l,e.valueKey):t.value===l){o={value:l,currentLabel:t.currentLabel,isDisabled:t.isDisabled};break}}if(o)return o;const r={value:l,currentLabel:a?l.label:n||i?"":l};return e.multiple&&(r.hitState=!1),r},ie=()=>{setTimeout((()=>{const l=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((e=>U.value.findIndex((t=>s(t,l)===s(e,l)))))):t.hoverIndex=-1:t.hoverIndex=U.value.findIndex((e=>Ve(e)===Ve(t.selected)))}),300)},re=()=>{var e;t.inputWidth=null==(e=c.value)?void 0:e.$el.offsetWidth},ue=xe((()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,te(t.query))}),N.value),pe=xe((e=>{te(e.target.value)}),N.value),de=l=>{Oe(e.modelValue,l)||a.emit(Ce,l)},ve=(l,o)=>{const n=t.selected.indexOf(o);if(n>-1&&!R.value){const l=e.modelValue.slice();l.splice(n,1),a.emit(ye,l),de(l),a.emit("remove-tag",o.value)}l.stopPropagation(),Ee()},he=l=>{l.stopPropagation();const o=e.multiple?[]:"";if(!H(o))for(const e of t.selected)e.isDisabled&&o.push(e.value);a.emit(ye,o),de(o),t.hoverIndex=-1,t.visible=!1,a.emit("clear"),Ee()},me=l=>{var o;if(e.multiple){const n=(e.modelValue||[]).slice(),s=Te(n,l.value);s>-1?n.splice(s,1):(e.multipleLimit<=0||n.length<e.multipleLimit)&&n.push(l.value),a.emit(ye,n),de(n),l.created&&(t.query="",te(""),t.inputLength=20),e.filterable&&(null==(o=v.value)||o.focus())}else a.emit(ye,l.value),de(l.value),t.visible=!1;we(),t.visible||m((()=>{Le(l)}))},Te=(l=[],t)=>{if(!q(t))return l.indexOf(t);const o=e.valueKey;let a=-1;return l.some(((e,l)=>n(s(e,o))===s(t,o)&&(a=l,!0))),a},we=()=>{const e=v.value||c.value;e&&(null==e||e.focus())},Le=e=>{var l,t,o,a,n;const s=Array.isArray(e)?e[0]:e;let i=null;if(null==s?void 0:s.value){const e=U.value.filter((e=>e.value===s.value));e.length>0&&(i=e[0].$el)}if(f.value&&i){const e=null==(a=null==(o=null==(t=null==(l=f.value)?void 0:l.popperRef)?void 0:t.contentRef)?void 0:o.querySelector)?void 0:a.call(o,`.${p.be("dropdown","wrap")}`);e&&Se(e,i)}null==(n=C.value)||n.handleScroll()},Ie=e=>{if(!Array.isArray(t.selected))return;const l=t.selected[t.selected.length-1];return l?!0===e||!1===e?(l.hitState=e,e):(l.hitState=!l.hitState,l.hitState):void 0},Ee=()=>{var e,l;t.visible?null==(e=v.value||c.value)||e.focus():null==(l=c.value)||l.focus()},Me=()=>{t.visible=!1},Pe=e=>{e&&!t.mouseEnter||R.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:f.value&&f.value.isFocusInsideContent()||(t.visible=!t.visible),Ee())},Ve=l=>q(l.value)?s(l.value,e.valueKey):l.value,ke=o((()=>U.value.filter((e=>e.visible)).every((e=>e.disabled)))),Ke=o((()=>t.selected.slice(0,e.maxCollapseTags))),De=o((()=>t.selected.slice(e.maxCollapseTags))),Ae=e=>{if(t.visible){if(0!==t.options.size&&0!==t.filteredOptionsCount&&!t.isOnComposition&&!ke.value){"next"===e?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):"prev"===e&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const l=U.value[t.hoverIndex];!0!==l.disabled&&!0!==l.states.groupDisabled&&l.visible||Ae(e),m((()=>Le(S.value)))}}else t.visible=!0},ze=o((()=>({maxWidth:r(t.inputWidth)-32-(Q.value?22:0)+"px",width:"100%"})));return{optionList:T,optionsArray:U,selectSize:X,handleResize:()=>{var l,t;re(),null==(t=null==(l=f.value)?void 0:l.updatePopper)||t.call(l),e.multiple&&le()},debouncedOnInputChange:ue,debouncedQueryChange:pe,deletePrevTag:l=>{if(l.code!==B.delete){if(l.target.value.length<=0&&!Ie()){const l=e.modelValue.slice();l.pop(),a.emit(ye,l),de(l)}1===l.target.value.length&&0===e.modelValue.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}},deleteTag:ve,deleteSelected:he,handleOptionSelect:me,scrollToOption:Le,readonly:F,resetInputHeight:le,showClose:$,iconComponent:j,iconReverse:_,showNewOption:Y,collapseTagSize:Z,setSelected:ne,managePlaceholder:oe,selectDisabled:R,emptyText:G,toggleLastOptionHitState:Ie,resetInputState:e=>{e.code!==B.backspace&&Ie(!1),t.inputLength=15*v.value.value.length+20,le()},handleComposition:e=>{const l=e.target.value;if("compositionend"===e.type)t.isOnComposition=!1,m((()=>te(l)));else{const e=l[l.length-1]||"";t.isOnComposition=!ce(e)}},onOptionCreate:e=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(e.value,e),t.cachedOptions.set(e.value,e)},onOptionDestroy:(e,l)=>{t.options.get(e)===l&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(e))},handleMenuEnter:()=>{m((()=>Le(t.selected)))},handleFocus:l=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,a.emit("focus",l))},focus:Ee,blur:()=>{var e,l,o;t.visible=!1,null==(e=c.value)||e.blur(),null==(o=null==(l=h.value)?void 0:l.blur)||o.call(l)},handleBlur:e=>{var l,o,n;(null==(l=f.value)?void 0:l.isFocusInsideContent(e))||(null==(o=b.value)?void 0:o.isFocusInsideContent(e))||(null==(n=y.value)?void 0:n.contains(e.relatedTarget))||(t.visible&&Me(),t.focused=!1,a.emit("blur",e))},handleClearClick:e=>{he(e)},handleClose:Me,handleKeydownEscape:e=>{t.visible&&(e.preventDefault(),e.stopPropagation(),t.visible=!1)},toggleMenu:Pe,selectOption:()=>{t.visible?U.value[t.hoverIndex]&&me(U.value[t.hoverIndex]):Pe()},getValueKey:Ve,navigateOptions:Ae,handleDeleteTooltipTag:(e,l)=>{var t,o;ve(e,l),null==(o=null==(t=b.value)?void 0:t.updatePopper)||o.call(t)},dropMenuVisible:ee,queryChange:O,groupQueryChange:x,showTagList:Ke,collapseTagList:De,selectTagsStyle:ze,reference:c,input:v,iOSInput:h,tooltipRef:f,tagTooltipRef:b,tags:g,selectWrapper:y,scrollbar:C,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Ke=p({name:"ElOptions",emits:["update-options"],setup(e,{slots:l,emit:t}){let o=[];return()=>{var e,a;const n=null==(e=l.default)?void 0:e.call(l),s=[];return n.length&&function e(l){Array.isArray(l)&&l.forEach((l=>{var t,o,a,n;const i=null==(t=(null==l?void 0:l.type)||{})?void 0:t.name;"ElOptionGroup"===i?e(H(l.children)||Array.isArray(l.children)||!K(null==(o=l.children)?void 0:o.default)?l.children:null==(a=l.children)?void 0:a.default()):"ElOption"===i?s.push(null==(n=l.props)?void 0:n.label):Array.isArray(l.children)&&e(l.children)}))}(null==(a=n[0])?void 0:a.children),function(e,l){if(e.length!==l.length)return!1;for(const[t]of e.entries())if(e[t]!=l[t])return!1;return!0}(s,o)||(o=s,t("update-options",s)),n}}});const De="ElSelect",Ae=p({name:De,componentName:De,components:{ElInput:ve,ElSelectMenu:Ve,ElOption:Pe,ElOptions:Ke,ElTag:he,ElScrollbar:F,ElTooltip:ue,ElIcon:R},directives:{ClickOutside:Te},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:we},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:pe.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:$,default:j},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:$,default:_},tagType:{...me.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:de,default:"bottom-start"}},emits:[ye,Ce,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const t=d("select"),a=d("input"),{t:n}=M(),s=function(e){const{t:l}=M();return c({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}(e),{optionList:i,optionsArray:u,selectSize:p,readonly:h,handleResize:f,collapseTagSize:b,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:C,deleteTag:S,deleteSelected:O,handleOptionSelect:x,scrollToOption:T,setSelected:w,resetInputHeight:E,managePlaceholder:P,showClose:V,selectDisabled:k,iconComponent:K,iconReverse:D,showNewOption:A,emptyText:z,toggleLastOptionHitState:W,resetInputState:q,handleComposition:B,onOptionCreate:H,onOptionDestroy:F,handleMenuEnter:R,handleFocus:$,focus:j,blur:_,handleBlur:G,handleClearClick:U,handleClose:J,handleKeydownEscape:Y,toggleMenu:X,selectOption:Z,getValueKey:ee,navigateOptions:le,handleDeleteTooltipTag:te,dropMenuVisible:oe,reference:ae,input:ne,iOSInput:se,tooltipRef:ie,tagTooltipRef:re,tags:ue,selectWrapper:pe,scrollbar:de,queryChange:ce,groupQueryChange:ve,handleMouseEnter:he,handleMouseLeave:me,showTagList:fe,collapseTagList:be,selectTagsStyle:ge}=ke(e,s,l),{inputWidth:Ce,selected:Se,inputLength:Oe,filteredOptionsCount:xe,visible:Te,selectedLabel:we,hoverIndex:Le,query:Ie,inputHovering:Ee,currentPlaceholder:Pe,menuVisibleOnFocus:Ve,isOnComposition:Ke,options:De,cachedOptions:Ae,optionsCount:ze,prefixWidth:We}=v(s),qe=o((()=>{const l=[t.b()],o=r(p);return o&&l.push(t.m(o)),e.disabled&&l.push(t.m("disabled")),l})),Be=o((()=>[t.e("tags"),t.is("disabled",r(k))])),He=o((()=>[t.b("tags-wrapper"),{"has-prefix":r(We)&&r(Se).length}])),Fe=o((()=>[t.e("input"),t.is(r(p)),t.is("disabled",r(k))])),Re=o((()=>[t.e("input"),t.is(r(p)),t.em("input","iOS")])),$e=o((()=>[t.is("empty",!e.allowCreate&&Boolean(r(Ie))&&0===r(xe))])),je=o((()=>({maxWidth:`${r(Ce)>123?r(Ce)-123:r(Ce)-75}px`}))),_e=o((()=>({marginLeft:`${r(We)}px`,flexGrow:1,width:r(Oe)/(r(Ce)-32)+"%",maxWidth:r(Ce)-42+"px"})));Q(Me,c({props:e,options:De,optionsArray:u,cachedOptions:Ae,optionsCount:ze,filteredOptionsCount:xe,hoverIndex:Le,handleOptionSelect:x,onOptionCreate:H,onOptionDestroy:F,selectWrapper:pe,selected:Se,setSelected:w,queryChange:ce,groupQueryChange:ve})),L((()=>{s.cachedPlaceHolder=Pe.value=e.placeholder||(()=>n("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Pe.value=""),I(pe,f),e.remote&&e.multiple&&E(),m((()=>{const e=ae.value&&ae.value.$el;if(e&&(Ce.value=e.getBoundingClientRect().width,l.slots.prefix)){const l=e.querySelector(`.${a.e("prefix")}`);We.value=Math.max(l.getBoundingClientRect().width+11,30)}})),w()})),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(ye,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(ye,"");const Qe=o((()=>{var e,l;return null==(l=null==(e=ie.value)?void 0:e.popperRef)?void 0:l.contentRef}));return{isIOS:N,onOptionsRendered:e=>{i.value=e},prefixWidth:We,selectSize:p,readonly:h,handleResize:f,collapseTagSize:b,debouncedOnInputChange:g,debouncedQueryChange:y,deletePrevTag:C,deleteTag:S,handleDeleteTooltipTag:te,deleteSelected:O,handleOptionSelect:x,scrollToOption:T,inputWidth:Ce,selected:Se,inputLength:Oe,filteredOptionsCount:xe,visible:Te,selectedLabel:we,hoverIndex:Le,query:Ie,inputHovering:Ee,currentPlaceholder:Pe,menuVisibleOnFocus:Ve,isOnComposition:Ke,options:De,resetInputHeight:E,managePlaceholder:P,showClose:V,selectDisabled:k,iconComponent:K,iconReverse:D,showNewOption:A,emptyText:z,toggleLastOptionHitState:W,resetInputState:q,handleComposition:B,handleMenuEnter:R,handleFocus:$,focus:j,blur:_,handleBlur:G,handleClearClick:U,handleClose:J,handleKeydownEscape:Y,toggleMenu:X,selectOption:Z,getValueKey:ee,navigateOptions:le,dropMenuVisible:oe,reference:ae,input:ne,iOSInput:se,tooltipRef:ie,popperPaneRef:Qe,tags:ue,selectWrapper:pe,scrollbar:de,wrapperKls:qe,tagsKls:Be,tagWrapperKls:He,inputKls:Fe,iOSInputKls:Re,scrollbarKls:$e,selectTagsStyle:ge,nsSelect:t,tagTextStyle:je,inputStyle:_e,handleMouseEnter:he,handleMouseLeave:me,showTagList:fe,collapseTagList:be,tagTooltipRef:re}}}),ze=["disabled","autocomplete"],We=["disabled"],qe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var Be=u(Ae,[["render",function(e,l,t,o,a,n){const s=G("el-tag"),i=G("el-tooltip"),r=G("el-icon"),u=G("el-input"),p=G("el-option"),d=G("el-options"),c=G("el-scrollbar"),v=G("el-select-menu"),h=U("click-outside");return f((g(),y("div",{ref:"selectWrapper",class:x(e.wrapperKls),onMouseenter:l[22]||(l[22]=(...l)=>e.handleMouseEnter&&e.handleMouseEnter(...l)),onMouseleave:l[23]||(l[23]=(...l)=>e.handleMouseLeave&&e.handleMouseLeave(...l)),onClick:l[24]||(l[24]=T(((...l)=>e.toggleMenu&&e.toggleMenu(...l)),["stop"]))},[J(i,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Y((()=>[S("div",{class:"select-trigger",onMouseenter:l[20]||(l[20]=l=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=l=>e.inputHovering=!1)},[e.multiple?(g(),y("div",{key:0,ref:"tags",tabindex:"-1",class:x(e.tagsKls),style:E(e.selectTagsStyle),onClick:l[15]||(l[15]=(...l)=>e.focus&&e.focus(...l))},[e.collapseTags&&e.selected.length?(g(),X(Z,{key:0,onAfterLeave:e.resetInputHeight},{default:Y((()=>[S("span",{class:x(e.tagWrapperKls)},[(g(!0),y(ee,null,le(e.showTagList,(l=>(g(),X(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:Y((()=>[S("span",{class:x(e.nsSelect.e("tags-text")),style:E(e.tagTextStyle)},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(g(),X(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Y((()=>[e.collapseTagsTooltip?(g(),X(i,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Y((()=>[S("span",{class:x(e.nsSelect.e("tags-text"))},"+ "+O(e.selected.length-e.maxCollapseTags),3)])),content:Y((()=>[S("div",{class:x(e.nsSelect.e("collapse-tags"))},[(g(!0),y(ee,null,le(e.collapseTagList,(l=>(g(),y("div",{key:e.getValueKey(l),class:x(e.nsSelect.e("collapse-tag"))},[J(s,{class:"in-tooltip",closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:t=>e.handleDeleteTooltipTag(t,l)},{default:Y((()=>[S("span",{class:x(e.nsSelect.e("tags-text")),style:E({maxWidth:e.inputWidth-75+"px"})},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(g(),y("span",{key:1,class:x(e.nsSelect.e("tags-text"))},"+ "+O(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):te("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):te("v-if",!0),e.collapseTags?te("v-if",!0):(g(),X(Z,{key:1,onAfterLeave:e.resetInputHeight},{default:Y((()=>[S("span",{class:x(e.tagWrapperKls),style:E(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(g(!0),y(ee,null,le(e.selected,(l=>(g(),X(s,{key:e.getValueKey(l),closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,hit:l.hitState,type:e.tagType,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:Y((()=>[S("span",{class:x(e.nsSelect.e("tags-text")),style:E({maxWidth:e.inputWidth-75+"px"})},O(l.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?f((g(),y("input",{key:2,ref:"input","onUpdate:modelValue":l[0]||(l[0]=l=>e.query=l),type:"text",class:x(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:E(e.inputStyle),onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:l[3]||(l[3]=(...l)=>e.managePlaceholder&&e.managePlaceholder(...l)),onKeydown:[l[4]||(l[4]=(...l)=>e.resetInputState&&e.resetInputState(...l)),l[5]||(l[5]=oe(T((l=>e.navigateOptions("next")),["prevent"]),["down"])),l[6]||(l[6]=oe(T((l=>e.navigateOptions("prev")),["prevent"]),["up"])),l[7]||(l[7]=oe(((...l)=>e.handleKeydownEscape&&e.handleKeydownEscape(...l)),["esc"])),l[8]||(l[8]=oe(T(((...l)=>e.selectOption&&e.selectOption(...l)),["stop","prevent"]),["enter"])),l[9]||(l[9]=oe(((...l)=>e.deletePrevTag&&e.deletePrevTag(...l)),["delete"])),l[10]||(l[10]=oe((l=>e.visible=!1),["tab"]))],onCompositionstart:l[11]||(l[11]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionupdate:l[12]||(l[12]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onCompositionend:l[13]||(l[13]=(...l)=>e.handleComposition&&e.handleComposition(...l)),onInput:l[14]||(l[14]=(...l)=>e.debouncedQueryChange&&e.debouncedQueryChange(...l))},null,46,ze)),[[ae,e.query]]):te("v-if",!0)],6)):te("v-if",!0),te(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(g(),y("input",{key:1,ref:"iOSInput",class:x(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,We)):te("v-if",!0),J(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=l=>e.selectedLabel=l),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:x([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=oe(T((l=>e.navigateOptions("next")),["stop","prevent"]),["down"])),l[18]||(l[18]=oe(T((l=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),oe(T(e.selectOption,["stop","prevent"]),["enter"]),oe(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=oe((l=>e.visible=!1),["tab"]))]},ne({suffix:Y((()=>[e.iconComponent&&!e.showClose?(g(),X(r,{key:0,class:x([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Y((()=>[(g(),X(se(e.iconComponent)))])),_:1},8,["class"])):te("v-if",!0),e.showClose&&e.clearIcon?(g(),X(r,{key:1,class:x([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Y((()=>[(g(),X(se(e.clearIcon)))])),_:1},8,["class","onClick"])):te("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:Y((()=>[S("div",qe,[C(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)])),content:Y((()=>[J(v,null,{default:Y((()=>[f(J(c,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:x(e.scrollbarKls)},{default:Y((()=>[e.showNewOption?(g(),X(p,{key:0,value:e.query,created:!0},null,8,["value"])):te("v-if",!0),J(d,{onUpdateOptions:e.onOptionsRendered},{default:Y((()=>[C(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["wrap-class","view-class","class"]),[[b,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(g(),y(ee,{key:0},[e.$slots.empty?C(e.$slots,"empty",{key:0}):(g(),y("p",{key:1,class:x(e.nsSelect.be("dropdown","empty"))},O(e.emptyText),3))],64)):te("v-if",!0)])),_:3})])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[h,e.handleClose,e.popperPaneRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);var He=u(p({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=d("select"),o=w(!0),s=a(),r=w([]);Q(Ee,c({...v(e)}));const u=t(Me);L((()=>{r.value=p(s.subTree)}));const p=e=>{const l=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var t;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?l.push(e.component.proxy):(null==(t=e.children)?void 0:t.length)&&l.push(...p(e))})),l},{groupQueryChange:h}=n(u);return i(h,(()=>{o.value=r.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:o,ns:l}}}),[["render",function(e,l,t,o,a,n){return f((g(),y("ul",{class:x(e.ns.be("group","wrap"))},[S("li",{class:x(e.ns.be("group","title"))},O(e.label),3),S("li",null,[S("ul",{class:x(e.ns.b("group"))},[C(e.$slots,"default")],2)])],2)),[[b,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Fe=ie(Be,{Option:Pe,OptionGroup:He}),Re=re(Pe),$e=re(He);export{Fe as E,Re as a,$e as b,Ie as c,Le as e,Me as s};
